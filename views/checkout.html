   <div class="bg-light py-3">
      <div class="container">
        <div class="row">
          <div class="col-md-12 mb-0"><a href="index.html">Home</a> <span class="mx-2 mb-0">/</span> <a href="cart.html">Cart</a> <span class="mx-2 mb-0">/</span> <strong class="text-black">Checkout</strong></div>
        </div>
      </div>
    </div>

    <div class="site-section">
      <div class="container">
        
        <div class="row align-items-md-center justify-content-center">
          <div class="col-md-7">
              <h2 class="h3 mb-3 text-black text-center">Billing Details</h2>
              <div class="p-3 p-lg-5 border text-center">
                <form
                id="checkout-detail-form"
                class="login100-form validate-form flex-sb flex-w"
                role="form"
              >
                <div class="form-group row">
                  <div class="col-md-6">
                    <label for="c_name" class="text-black">First Name <span class="text-danger">*</span></label>
                    <input name="name" required minlength="2" type="text" class="form-control text-center" id="c_fname">
                  </div>
                  <div class="col-md-6">
                    <label for="c_lname" class="text-black">Last Name <span class="text-danger">*</span></label>
                    <input name="surname" required minlength="2" type="text" class="form-control text-center" id="c_lname" >
                  </div>
                </div>
      
                <div class="form-group row mb-5">
                  <div class="col-md-6">
                    <label for="c_email_address" class="text-black">Email Address <span class="text-danger">*</span></label>
                    <input name="email" required minlength="5" type="email" class="form-control text-center" id="c_email_address">
                  </div>
                  <div class="col-md-6">
                    <label for="c_phone" class="text-black">Phone <span class="text-danger">*</span></label>
                    <input name="phone_number" required minlength="9" type="text" class="form-control text-center" id="c_phone" placeholder="Phone Number">
                  </div>
                </div><div class="form-group row">
                  
                  <div class="col-md-12">
                    <label for="c_city" class="text-black">City <span class="text-danger">*</span></label>
                    <input name="city" required minlength="3" type="text" class="form-control text-center" id="c_city">
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-md-12">
                    <label for="c_postal_zip" class="text-black">Posta / Zip <span class="text-danger">*</span></label>
                    <input name="zip_code" required minlength="5" required maxlength="5" type="text" class="form-control text-center" id="c_postal_zip">
                  </div>
                </div><div class="form-group row">
                  <div class="col-md-12">
                    <label for="c_address" class="text-black">Address <span class="text-danger">*</span></label>
                    <input name="address" required minlength="5" type="text" class="form-control text-center" id="c_address" placeholder="Street address">
                  </div>
                </div>
              <div class="form-group row">
                  <div class="col-md-12">
                    <label for="c_shipping_address" class="text-black">Address for shipping <span class="text-danger">*</span></label>
                    <input name="shipping_address" required minlength="5" type="text" class="text-center form-control" id="c_shipping_address" placeholder="Street address">
                  </div>
                </div><div class="form-group">
                  <label for="c_payment_method" class="text-black">Payment Method<span class="text-danger">*</span></label>
                  <select name="payment_method" id="c_payment_method" class="text-center form-control">
                    <option value="1">Cash</option>    
                    <option value="2">Credit card</option>    
                  </select>
                </div><button type="submit"  class="btn btn-primary btn-lg py-2 btn-block" style="margin-top: 2em;">Place Order</button></div>
            </div>          
        </div>
      </form>
     <!-- </form> -->
  

   
    </div>

    
  </div>
  
  <script type="text/javascript">

  $("#checkout-detail-form").validate({
    submitHandler: function (form, event) {
      event.preventDefault();
      postUserDetails(jsonize_form($(form)));
    },
  });


  function makeOrder(details){
    postUserDetails(details);
    setTimeout(function () {postOrder(details);},2000);

    if((JSON.parse(document.getElementById("user_order_id").innerHTML)) === 5){
      setTimeout(function () {postOrderDetails(JSON.parse(getCart()));},4000);  
    }
    setTimeout(function () {postOrderDetails(JSON.parse(getCart()));},5000); 
    
  }


  function postUserDetails(user_details){
    RestClient.post("api/details/add", user_details, function(data){
            postOrder(user_details, data.id);
          });
      }
 
 function postOrder(details, details_id){
    
    var order ={};
    order["user_details_id"] = details_id;
    order["shipping_address"] = details.shipping_address;
    order["payment_method_id"] = details.payment_method;
    order["status"] = "ACTIVE";

    RestClient.post("api/order",order,function(data){
            postOrderDetails(JSON.parse(getCart()), data.id);
          });
      }

  
  function postOrderDetails(cart, order_id){
    var order_details ={};

   for(i = 0; i < cart.length; i++){
    
    order_details["order_id"] = order_id;
    order_details["product_id"] = cart[i].product_id;
    order_details["size_id"] = cart[i].size_id;
    order_details["quantity"] = cart[i].quantity;

    RestClient.post("api/order/details",order_details,function(data){});
    }
      window.location  = ("#thankyou");
      setCartEmpty();
      setCartCount();
    }

</script>